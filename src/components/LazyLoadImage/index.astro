---
import './styles.css';

export interface ImageProps {
  className?: string;
  imageAlt?: string;
  imageUrl?: {
    mobile?: string;
    tablet?: string;
    desktop?: string;
  };
  imageWidth?: {
    mobile?: string;
    tablet?: string;
    desktop?: string;
  };
  imageHieght?: {
    mobile?: string;
    tablet?: string;
    desktop?: string;
  };
}

const { imageAlt, imageUrl, imageWidth, imageHieght, className } = Astro.props as ImageProps;
---

<picture class={className}>
  {
    imageUrl.tablet && (
      <source
        media="(min-width: 768px)"
        srcset={imageUrl.tablet}
        width={imageWidth.tablet}
        height={imageHieght?.tablet}
      />
    )
  }
  {
    imageUrl.desktop && (
      <source
        media="(min-width: 1200px)"
        srcset={imageUrl.desktop}
        width={imageWidth.desktop}
        height={imageHieght?.desktop}
      />
    )
  }
  <img
    src={imageUrl.mobile}
    alt={imageAlt}
    width={imageWidth.mobile}
    height={imageHieght?.mobile}
    loading="lazy"
  />
</picture>
