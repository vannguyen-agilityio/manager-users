---
import './styles.css';

export interface ImageProps {
  className?: string;
  imageAlt?: string;
  imageUrl?: {
    mobile?: string;
    tablet?: string;
    desktop?: string;
  };
  imageWidth?: {
    mobile?: string;
    tablet?: string;
    desktop?: string;
  };
  imageHeight?: {
    mobile?: string;
    tablet?: string;
    desktop?: string;
  };
}

const { imageAlt, imageUrl, imageWidth, imageHeight, className } = Astro.props as ImageProps;
---

<picture class={className}>
  {
    imageUrl.tablet && (
      <source
        media="(min-width: 768px)"
        srcset={imageUrl.tablet}
        width={imageWidth? imageWidth.tablet : "100%"}
        height={imageHeight? imageHeight.tablet : "100%"}
      />
    )
  }
  {
    imageUrl.desktop && (
      <source
        media="(min-width: 1200px)"
        srcset={imageUrl.desktop}
        width={imageWidth? imageWidth.desktop : "100%"}
        height={imageHeight ? imageHeight.desktop : "100%"}
      />
    )
  }
  <img
    src={imageUrl.mobile}
    alt={imageAlt}
    width={imageWidth? imageWidth.mobile : "100%"}
    height={imageHeight? imageHeight.mobile : "100%"}
    loading="lazy"
  />
</picture>
